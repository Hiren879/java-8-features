# SOLID Principles
## In this section will discuss what's SOLID principles, what problems it solves & how we identify and solve the problem by keeping these principles in mind.

---
| **Principle Name** | **Description**  |
|--|--|
| **S**ingle Responsibility Principle | Class must be responsible to server only one duty  |
| **O**pen-Closed Principle | Class must be open for extension but strictly not for modification|
| **L**iskov Substitution Principle | The object of the Child class must be replaceable with the object of the parent class without breaking the system |
| **D**ependency Inversion Principle | High/low level module must not be dependent on each other, they must be dependent on abstraction |

---
## 1. Single Responsibility Principle
**This principle says that every class should have well defined and unique responsibility.**

Let's take an example of banking service. If you have single BankService class doing operations like


[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgQmFua1NlcnZpY2VcbiAgICBCYW5rU2VydmljZSA6ICtkZXBvc2l0KGFtb3VudClcbiAgICBCYW5rU2VydmljZSA6ICt3aXRoZHJhd2woYW1vdW50KVxuICAgIEJhbmtTZXJ2aWNlIDogK3ByaW50U3RhdGVtZW50KClcbiAgICBCYW5rU2VydmljZSA6ICtnZXRMb2FuSW5mbygpXG4gICAgQmFua1NlcnZpY2UgOiArc2VuZE9UUCgpXG4gICAgQmFua1NlcnZpY2UgOiArY3JlYXRlRGVtYXRlQWNjb3VudCgpXG4iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgQmFua1NlcnZpY2VcbiAgICBCYW5rU2VydmljZSA6ICtkZXBvc2l0KGFtb3VudClcbiAgICBCYW5rU2VydmljZSA6ICt3aXRoZHJhd2woYW1vdW50KVxuICAgIEJhbmtTZXJ2aWNlIDogK3ByaW50U3RhdGVtZW50KClcbiAgICBCYW5rU2VydmljZSA6ICtnZXRMb2FuSW5mbygpXG4gICAgQmFua1NlcnZpY2UgOiArc2VuZE9UUCgpXG4gICAgQmFua1NlcnZpY2UgOiArY3JlYXRlRGVtYXRlQWNjb3VudCgpXG4iLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)


then you are violating the **SRP principle** because in future there could be requirements where above implementations will be changes in "BankService" class. If you are modifying the class for the new requirements that mean you are violating SRP principle.

### How to implement "Single Responsibility Principle" ?
- Keep only core banking related operations like
	1. deposit
	2. withdraw
in the "BankService" class


[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgQmFua1NlcnZpY2VcbiAgICBCYW5rU2VydmljZSA6ICtkZXBvc2l0KGFtb3VudClcbiAgICBCYW5rU2VydmljZSA6ICt3aXRoZHJhd2woYW1vdW50KVxuXG4iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgQmFua1NlcnZpY2VcbiAgICBCYW5rU2VydmljZSA6ICtkZXBvc2l0KGFtb3VudClcbiAgICBCYW5rU2VydmljZSA6ICt3aXRoZHJhd2woYW1vdW50KVxuXG4iLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)


- for other operations like 
	1. sendOTP - create "_NotificationService_" class 
	2. getLoanInfo - create "_LoanService_" class
	3. createDemateAccount - create "_DemateAccountService_" class
	4. and so on....
and move the methods in above classes respectively.


[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgTG9hblNlcnZpY2V7XG4gICAgICArZ2V0TG9hbkRldGFpbHMoKVxuICAgIH1cbiAgICBjbGFzcyBOb3RpZmljYXRpb25TZXJ2aWNle1xuICAgICAgLXNlbmRTbXNPVFAoKVxuICAgICAgLXNlbmRFbWFpbE9UUCgpXG4gICAgICAtc2VuZFdoYXRzQXBwT1RQKClcbiAgICB9XG4gICAgY2xhc3MgRGVtYXRlQWNjb3VudFNlcnZpY2V7XG4gICAgICArZ2V0U3RvY2tEZXRhaWxzKClcbiAgICAgICtnZXRDdXJyZW50UG9ydGZvbGlvKClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgTG9hblNlcnZpY2V7XG4gICAgICArZ2V0TG9hbkRldGFpbHMoKVxuICAgIH1cbiAgICBjbGFzcyBOb3RpZmljYXRpb25TZXJ2aWNle1xuICAgICAgLXNlbmRTbXNPVFAoKVxuICAgICAgLXNlbmRFbWFpbE9UUCgpXG4gICAgICAtc2VuZFdoYXRzQXBwT1RQKClcbiAgICB9XG4gICAgY2xhc3MgRGVtYXRlQWNjb3VudFNlcnZpY2V7XG4gICAgICArZ2V0U3RvY2tEZXRhaWxzKClcbiAgICAgICtnZXRDdXJyZW50UG9ydGZvbGlvKClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)


## 2. Open Closed Principle
**This principle says that every class should be open for extension but close for the modification.**

Suppose in above example we want to add Instagram notification feature in NotificationService.
By doing this we are violating OCP principle. We should not modify existing BAU rather we should design our code in such a way that we can achieve it by creating new class and implementing some interface.


[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgTm90aWZpY2F0aW9uU2VydmljZXtcbiAgICAgIC1zZW5kU21zT1RQKClcbiAgICAgIC1zZW5kRW1haWxPVFAoKVxuICAgICAgLXNlbmRXaGF0c0FwcE9UUCgpXG4gICAgfVxuICAgICAgICAgICAgIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgTm90aWZpY2F0aW9uU2VydmljZXtcbiAgICAgIC1zZW5kU21zT1RQKClcbiAgICAgIC1zZW5kRW1haWxPVFAoKVxuICAgICAgLXNlbmRXaGF0c0FwcE9UUCgpXG4gICAgfVxuICAgICAgICAgICAgIiwibWVybWFpZCI6IntcbiAgXCJ0aGVtZVwiOiBcImRlZmF1bHRcIlxufSIsInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjpmYWxzZX0)


### How to implement "Open Closed Principle" ?
To implement **OCP principle** in above scenario, we can create one interface having common methods for all such notification implementations.

[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgTm90aWZpY2F0aW9uU2VydmljZSA8fC0tIEVtYWlsTm90aWZpY2F0aW9uXG4gICAgTm90aWZpY2F0aW9uU2VydmljZSA8fC0tIFdoYXRzQXBwTm90aWZpY2F0aW9uXG4gICAgTm90aWZpY2F0aW9uU2VydmljZSA8fC0tIFNtc05vdGlmaWNhdGlvblxuICAgIE5vdGlmaWNhdGlvblNlcnZpY2U6ICtzZW5kT1RQKClcbiAgICBOb3RpZmljYXRpb25TZXJ2aWNlOiArc2VuZFJlcG9ydCgpXG4gICAgY2xhc3MgRW1haWxOb3RpZmljYXRpb257XG4gICAgICArc2VuZE9UUCgpXG4gICAgICArc2VuZFJlcG9ydCgpXG4gICAgfVxuICAgIGNsYXNzIFdoYXRzQXBwTm90aWZpY2F0aW9ue1xuICAgICAgK3NlbmRPVFAoKVxuICAgICAgK3NlbmRSZXBvcnQoKVxuICAgIH1cbiAgICBjbGFzcyBTbXNOb3RpZmljYXRpb257XG4gICAgICtzZW5kT1RQKClcbiAgICAgICtzZW5kUmVwb3J0KClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgTm90aWZpY2F0aW9uU2VydmljZSA8fC0tIEVtYWlsTm90aWZpY2F0aW9uXG4gICAgTm90aWZpY2F0aW9uU2VydmljZSA8fC0tIFdoYXRzQXBwTm90aWZpY2F0aW9uXG4gICAgTm90aWZpY2F0aW9uU2VydmljZSA8fC0tIFNtc05vdGlmaWNhdGlvblxuICAgIE5vdGlmaWNhdGlvblNlcnZpY2U6ICtzZW5kT1RQKClcbiAgICBOb3RpZmljYXRpb25TZXJ2aWNlOiArc2VuZFJlcG9ydCgpXG4gICAgY2xhc3MgRW1haWxOb3RpZmljYXRpb257XG4gICAgICArc2VuZE9UUCgpXG4gICAgICArc2VuZFJlcG9ydCgpXG4gICAgfVxuICAgIGNsYXNzIFdoYXRzQXBwTm90aWZpY2F0aW9ue1xuICAgICAgK3NlbmRPVFAoKVxuICAgICAgK3NlbmRSZXBvcnQoKVxuICAgIH1cbiAgICBjbGFzcyBTbXNOb3RpZmljYXRpb257XG4gICAgICtzZW5kT1RQKClcbiAgICAgICtzZW5kUmVwb3J0KClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)


Here **NotificationService** interface will define the behavior of the implementation and class who will implement this interface need to provide the business logic according to their requirements.

**By doing this we are not modifying existing BAU of any other class whenever new requirement comes which is the main goal of this principle.**

## 3. Liskov substitution principle
**This principle says that one should develop the inheritance hierarchy in such a way base class must be substitutable by its child class.**

To understand this principle we will take an example of social media.
Suppose we have **_abstract_** class **SocialMedia** as follow:

[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgU29jaWFsTWVkaWF7XG4gICAgICArIGNoYXRXaXRoRnJpZW5kcygpXG4gICAgICArIHB1Ymxpc2hQb3N0KClcbiAgICAgICsgc2VuZFBob3Rvc0FuZFZpZGVvcygpXG4gICAgICArIGdyb3VwVmlkZW9DYWxsKClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgU29jaWFsTWVkaWF7XG4gICAgICArIGNoYXRXaXRoRnJpZW5kcygpXG4gICAgICArIHB1Ymxpc2hQb3N0KClcbiAgICAgICsgc2VuZFBob3Rvc0FuZFZpZGVvcygpXG4gICAgICArIGdyb3VwVmlkZW9DYWxsKClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)

Now suppose we want to create following applications:
1. Facebook
	- chatWithFriends
	- publishPost
	- sendPhotosAndVideos
	- groupVideoCall
2. WhatsApp
	- chatWithFriends
	- sendPhotosAndVideos
	- groupVideoCall
3. Instagram
	- chatWithFriends
	- publishPost
	- sendPhotosAndVideos

So we will extend the abstract class and implement methods.


[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgU29jaWFsTWVkaWEgPHwtLSBGYWNlQm9va1xuICAgIFNvY2lhbE1lZGlhIDx8LS0gV2hhdHNBcHBcbiAgICBTb2NpYWxNZWRpYSA8fC0tIEluc3RhZ3JhbVxuICAgIGNsYXNzIFNvY2lhbE1lZGlhe1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIEZhY2VCb29re1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIFdoYXRzQXBwe1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIEluc3RhZ3JhbSB7XG4gICAgICArIGNoYXRXaXRoRnJpZW5kcygpXG4gICAgICArIHB1Ymxpc2hQb3N0KClcbiAgICAgICsgc2VuZFBob3Rvc0FuZFZpZGVvcygpXG4gICAgICArIGdyb3VwVmlkZW9DYWxsKClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgU29jaWFsTWVkaWEgPHwtLSBGYWNlQm9va1xuICAgIFNvY2lhbE1lZGlhIDx8LS0gV2hhdHNBcHBcbiAgICBTb2NpYWxNZWRpYSA8fC0tIEluc3RhZ3JhbVxuICAgIGNsYXNzIFNvY2lhbE1lZGlhe1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIEZhY2VCb29re1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIFdoYXRzQXBwe1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIEluc3RhZ3JhbSB7XG4gICAgICArIGNoYXRXaXRoRnJpZW5kcygpXG4gICAgICArIHB1Ymxpc2hQb3N0KClcbiAgICAgICsgc2VuZFBob3Rvc0FuZFZpZGVvcygpXG4gICAgICArIGdyb3VwVmlkZW9DYWxsKClcbiAgICB9XG4gICAgICAgICAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)

Here we can substitute SocialMedia with FaceBook class because all the methods are subsitutable.
**But the same is not true for Instagram & Whatsapp because not all the methods are required and substitutable between SocialMedia & Instagram/Whatsapp.**

so that's where **LSP** comes into the picture and solves our problem.

### How to implement "Liskov substitution principle" ?
**Identify responsibility and create interface accordingly. Use these interfaces as per the requirement and then parent class will be replaceable by the child class.**

Create following interfaces and implement as per the requirements:

[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgU29jaWFsTWVkaWFNYW5hZ2VyIDx8LS0gRmFjZUJvb2tcbiAgICBTb2NpYWxNZWRpYVB1Ymxpc2hlciA8fC0tIEZhY2VCb29rXG4gICAgU29jaWFsTWVkaWFWaWRlb0NhbGxlciA8fC0tIEZhY2VCb29rXG4gICAgU29jaWFsTWVkaWFNYW5hZ2VyIDx8LS0gV2hhdHNBcHBcbiAgICBTb2NpYWxNZWRpYVZpZGVvQ2FsbGVyIDx8LS0gV2hhdHNBcHBcbiAgICBTb2NpYWxNZWRpYU1hbmFnZXIgPHwtLSBJbnN0YWdyYW1cbiAgICBTb2NpYWxNZWRpYVB1Ymxpc2hlciA8fC0tIEluc3RhZ3JhbVxuICAgIGNsYXNzIFNvY2lhbE1lZGlhTWFuYWdlciB7XG4gICAgICArIGNoYXRXaXRoRnJpZW5kcygpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgIH1cbiAgICBjbGFzcyBTb2NpYWxNZWRpYVB1Ymxpc2hlciB7XG4gICAgICAgICsgcHVibGlzaFBvc3QoKVxuICAgIH1cbiAgICBjbGFzcyBTb2NpYWxNZWRpYVZpZGVvQ2FsbGVyIHtcbiAgICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIEZhY2VCb29re1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIFdoYXRzQXBwe1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBzZW5kUGhvdG9zQW5kVmlkZW9zKClcbiAgICAgICsgZ3JvdXBWaWRlb0NhbGwoKVxuICAgIH1cbiAgICBjbGFzcyBJbnN0YWdyYW0ge1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgIH1cbiAgICAgICAgICAgICIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjpmYWxzZX0)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgU29jaWFsTWVkaWFNYW5hZ2VyIDx8LS0gRmFjZUJvb2tcbiAgICBTb2NpYWxNZWRpYVB1Ymxpc2hlciA8fC0tIEZhY2VCb29rXG4gICAgU29jaWFsTWVkaWFWaWRlb0NhbGxlciA8fC0tIEZhY2VCb29rXG4gICAgU29jaWFsTWVkaWFNYW5hZ2VyIDx8LS0gV2hhdHNBcHBcbiAgICBTb2NpYWxNZWRpYVZpZGVvQ2FsbGVyIDx8LS0gV2hhdHNBcHBcbiAgICBTb2NpYWxNZWRpYU1hbmFnZXIgPHwtLSBJbnN0YWdyYW1cbiAgICBTb2NpYWxNZWRpYVB1Ymxpc2hlciA8fC0tIEluc3RhZ3JhbVxuICAgIGNsYXNzIFNvY2lhbE1lZGlhTWFuYWdlciB7XG4gICAgICArIGNoYXRXaXRoRnJpZW5kcygpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgIH1cbiAgICBjbGFzcyBTb2NpYWxNZWRpYVB1Ymxpc2hlciB7XG4gICAgICAgICsgcHVibGlzaFBvc3QoKVxuICAgIH1cbiAgICBjbGFzcyBTb2NpYWxNZWRpYVZpZGVvQ2FsbGVyIHtcbiAgICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIEZhY2VCb29re1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgICAgKyBncm91cFZpZGVvQ2FsbCgpXG4gICAgfVxuICAgIGNsYXNzIFdoYXRzQXBwe1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBzZW5kUGhvdG9zQW5kVmlkZW9zKClcbiAgICAgICsgZ3JvdXBWaWRlb0NhbGwoKVxuICAgIH1cbiAgICBjbGFzcyBJbnN0YWdyYW0ge1xuICAgICAgKyBjaGF0V2l0aEZyaWVuZHMoKVxuICAgICAgKyBwdWJsaXNoUG9zdCgpXG4gICAgICArIHNlbmRQaG90b3NBbmRWaWRlb3MoKVxuICAgIH1cbiAgICAgICAgICAgICIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)


